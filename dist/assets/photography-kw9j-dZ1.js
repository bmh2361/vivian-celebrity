import{u,r as h,j as e,c as g,L as y}from"./Layout-BMMK2Gzn.js";import{m}from"./motion-BeCl_pIp.js";function f(){const{lang:n}=u(),[c,l]=h.useState([]),d="/".replace(/\/+$/,""),r=s=>`${d}${s.startsWith("/")?s:`/${s}`}`;h.useEffect(()=>{const s=Array.from({length:6},(o,p)=>{const t=p+1;return{type:"video",src:r(`/photography/${t}.mp4`),poster:r(`/photography/${t}.jpg`),mime:"video/mp4"}});fetch(r("/photography/index.json")).then(o=>o.ok?o.json():Promise.reject()).then(o=>{if(!Array.isArray(o))throw new Error("bad json");const p=o.map(t=>typeof t=="string"?{src:t}:t).filter(t=>/\.(mp4|mov|webm)$/i.test(t.src||"")).slice(0,6).map(t=>{const x=t.poster&&/\.(jpg|jpeg|png|webp)$/i.test(t.poster)?t.poster:(t.src||"").replace(/\.(mp4|mov|webm)$/i,".jpg");return{type:"video",src:r(t.src),poster:r(x),mime:t.mime||"video/mp4"}});l(p.length?p:s)}).catch(o=>{console.warn("[photography] fallback to defaults:",o),l(s)})},[]);const a={zh:{title:"摄影服务",subtitle:"聚焦人物气场与材质细节，提供清晰或氛围感影视选择，电影级别相机结合光影与后期制作，确保在多环境中仍具备大片氛围与传播属性。",showcase:"案例展示",more:"联系我们，获取更多案例"},en:{title:"Photography",subtitle:"Cinematic portraits with narrative mood—styling, lighting and finishing at film-grade quality for confident presence across scenarios.",showcase:"Case Showcase",more:"Contact us for more work"}},i=a[n]||a.zh;return e.jsxs(m.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[e.jsxs("section",{className:"max-w-7xl mx-auto px-6 pt-10 md:pt-12 pb-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-wide text-[#111]",children:i.title}),e.jsx("p",{className:"text-[#666] mt-2",children:i.subtitle})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-6 pb-16",children:[e.jsxs("div",{className:"flex items-end justify-between mb-5",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#111]",children:i.showcase}),e.jsx("a",{href:r("/pages/contact.html"),className:"text-sm text-[#9A7B4F] hover:underline",children:i.more})]}),e.jsx(m.div,{initial:"hidden",animate:"show",variants:{hidden:{},show:{transition:{staggerChildren:.08}}},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:c.slice(0,6).map((s,o)=>e.jsx(m.div,{variants:{hidden:{y:12,opacity:0},show:{y:0,opacity:1}},className:"relative group border border-[#eee] rounded-2xl overflow-hidden bg-white shadow-sm",children:s.type==="video"?e.jsx(j,{m:s}):e.jsx("img",{loading:"lazy",src:s.src,alt:`photo-${o+1}`,className:"w-full aspect-[3/4] object-cover"})},o))},c.map(s=>s.src).join("|"))]})]})}function j({m:n}){const c=h.useRef(null),[l,d]=h.useState(!1),r=()=>{const a=c.current;a&&(a.paused?(document.querySelectorAll("video").forEach(i=>{if(i!==a)try{i.pause()}catch{}}),a.play(),d(!0)):(a.pause(),d(!1)))};return e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:c,controls:!1,preload:"metadata",poster:n.poster,className:"w-full aspect-[3/4] object-cover",playsInline:!0,children:e.jsx("source",{src:n.src,type:n.mime||"video/mp4"})}),e.jsx("button",{onClick:r,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r())},className:"absolute inset-0 grid place-items-center focus:outline-none","aria-label":l?"pause video":"play video",tabIndex:0,children:e.jsx("span",{className:`inline-grid place-items-center w-12 h-12 md:w-12 md:h-12 rounded-full bg-white text-black shadow-[0_3px_12px_rgba(0,0,0,0.18)] ring-1 ring-black/10 transition-all ${l?"opacity-0 scale-95":"opacity-100 scale-100"} `,children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}g(document.getElementById("root")).render(e.jsx(y,{pageKey:"photography",children:e.jsx(f,{})}));
